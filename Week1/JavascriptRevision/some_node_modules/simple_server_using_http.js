// file: basicServer.js
const http = require("http");
const fs = require("fs")
// Create a server
let filename = "";
const userData = {
    id: 1,
    name: "John Doe",
    email: "john@example.com"
};
const server = http.createServer((req, res) => {
    
    // Send a response based on the request URL
    if (req.url === "/") {
        filename = "spacimen.html";
        fs.readFile(filename, (err, data) => {
        if (err){
            res.writeHead(500, {"content-type" : "text/plain"});
            res.end("Server error");
            return;
        } else {
            res.writeHead(200, {"content-type" : "text/html"});
            res.end(data);
        }
    });
    } else if (req.url === "/about") {
        res.writeHead(200, { "Content-Type": "text/plain" });
        res.end("About us page");
    } else if (req.url === "/serve"){
        res.writeHead(200, { "Content-Type": "application/json" });
        res.end(JSON.stringify(userData));
    }
    else {
    res.end("Page not found");
    }

});
// Listen on port 3000
server.listen(3000, () => {
 console.log("Server running at http://localhost:3000/");
});


// Modify the basicServer.js to serve a simple HTML page instead of plain text. Include a bit of
// HTML markup to confirm it works.
// o Add another route that serves some JSON data. Test it by visiting the different URLs in your
// browser.